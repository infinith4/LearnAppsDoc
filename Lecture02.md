# Step1

## Lecture02
### 課題

#### 記述問題
1. OrderControllerのL.35〜L.46とL.86~L.96はほぼ同じコードである。重複したコードがあると何が問題か説明して下さい。また、どうするべきか記載して下さい。
2. メールアドレスの正規表現の例を記載して下さい。（最低2つ）
#### 実践問題
- サンプルアプリ(MVCWebApplication)を以下の通り改修すること
1. ~/Order/SelectProduct で選択した商品を確認する画面（注文確認画面）を用意すること
    - アクション名はConfirmとすること
    - 選択した商品データはSession変数で保存すること （注文データをSession変数に保存用のClassを定義すること。ただし、基底クラスをOrderModelクラスのProductクラスとして継承すること。ヒント：Serializable属性をつけることでSession変数にデータを保存できる）
    - 注文確認画面で注文確定ボタンを押下できるようにすること。
    - 注文確定ボタンを押下後、OrderManageテーブルのカラム名：OrderDate（Datetime型）に注文日を設定すること （カラムは自分で追加すること）
    - 表示内容は商品名、商品価格、商品詳細を表示すること。ラベルと値を対に表示すること。※ラベルの表示は、@Html.LabelForと@Html.Label の両方を利用すること
    - 氏名（姓と名）を入力できるようにすること。姓はOrderManage.LastName、名はOrderManage.FirstNameに保存すること。※@Html.TextBoxForを利用すること
    - 氏名の入力制限は必須かつ最大20文字とし、全角10文字（半角20文字）とすること。入力文字のエンコードをSHIFT JISとして全角文字を2文字、半角文字を1文字としてカウントしてチェックする。文字数のカウント方法は、「Encoding.GetEncoding("Shift_JIS").GetByteCount(【入力文字】) 」を利用する。
    - 入力制限を満たしていない場合は、エラーメッセージを表示すること。（参考：http://qiita.com/mrpero/items/607c31895d77815a77cb ）
    - メールアドレスも必須とし、入力制限をつけること（半角100文字とし、正規表現の入力制限を利用すること。メールアドレスの正規表現は正確なものは難しいため、ネットにある正規表現を利用すること。）
    - エラーメッセージは「@Html.ValidationMessageFor」や「ModelState.AddModelError」を利用すること
2. Headerに戻るボタンを用意すること
    - 注文完了画面に遷移したら、戻るボタンは表示させないこと
3. OrderControllerのL.35〜L.46とL.86~L.96はほぼ同じコードなので、新たにメソッドを作成し、まとめて下さい。
